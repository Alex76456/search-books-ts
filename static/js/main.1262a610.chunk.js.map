{"version":3,"sources":["utils/api.ts","components/Header/Header.tsx","components/Snippet/Snippet.tsx","components/Main/Main.tsx","components/BookPopup/BookPopup.tsx","components/Footer/Footer.tsx","components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["api","config","_url","_headers","this","baseUrl","headers","res","ok","json","Promise","reject","status","request","fetch","then","_getResponse","catch","err","console","error","id","size","Accept","Header","className","src","alt","Snippet","snippet","onBookClick","onClick","cover_i","name","title","author_name","Main","onSnippetClick","snippets","onSearch","isRender","isSuccessImage","useState","setRequest","timer","setTimer","visibleSnippets","setVisibleSnippets","useEffect","clearTimeout","onSubmit","e","preventDefault","replace","noValidate","type","placeholder","required","value","onChange","prev","target","setTimeout","log","disabled","map","item","i","key","length","window","pageYOffset","scrollTo","top","behavior","BookPopup","book","isOpen","onClose","onEscClose","handleEscapeClose","event","document","addEventListener","removeEventListener","publish_year","publisher","isbn","Footer","Date","getFullYear","noBook","App","setSnippets","isBookOpened","setIsBookOpened","selectedBook","setSelectedBook","setIsRender","setIsSuccessImage","closeBookPopup","a","getSnippets","numFound","docs","choosenBook","classList","contains","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1262a610.chunk.js","sourcesContent":["\r\n\r\ninterface IConfig{\r\n\tbaseUrl:string;\r\n\theaders: {\r\n\t\tAccept:string\r\n\t}\r\n}\r\n\r\nclass Api {\r\n\r\n\t_url:string;\r\n\t_headers:{\r\n\t\tAccept:string\r\n\t};\r\n\r\n\r\n\tconstructor(config:IConfig) {\r\n\t\tthis._url = config.baseUrl;\r\n\t\tthis._headers = config.headers;\r\n\t}\r\n\r\n\t_getResponse(res: Response) {\r\n\t\tif (res.ok) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t\treturn Promise.reject(`Ошибка: ${res.status}`);\r\n\t}\r\n\r\n\tgetSnippets(request: string) {\r\n\t\treturn fetch(`https://${this._url}/search.json?q=${request}`, {\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t\t.then(this._getResponse)\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetSnippetImage(id: string, size = 'L') {\r\n\t\treturn fetch(`https://covers.${this._url}/b/id/${id}-${size}.jpg`, {\r\n\t\t\theaders: this._headers\r\n\t\t})\r\n\t\t\t.then(this._getResponse)\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nconst api = new Api({\r\n\tbaseUrl: 'openlibrary.org',\r\n\theaders: {\r\n\t\tAccept: 'application/json'\r\n\t}\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport './Header.css';\r\n\r\nconst Header: React.FC = () => {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<img\r\n\t\t\t\tclassName=\"header__logo\"\r\n\t\t\t\tsrc={\r\n\t\t\t\t\t'https://cdn4.iconfinder.com/data/icons/science-and-technology-3-10/65/135-128.png'\r\n\t\t\t\t}\r\n\t\t\t\talt=\"logo\"\r\n\t\t\t/>\r\n\t\t\t<h1 className=\"header__title\">\r\n\t\t\t\tНайти в<span className=\"header__title-accent\">s</span>ё!\r\n\t\t\t</h1>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport './Snippet.css';\r\nimport IBook from '../../interfaces/IBook';\r\n\r\ninterface SnippetProps {\r\n\tsnippet: IBook;\r\n\tonBookClick(el:IBook): void;\r\n}\r\n\r\n\r\nconst Snippet: React.FC<SnippetProps> = ({ snippet, onBookClick }) => {\r\n\tfunction handleClick() {\r\n\t\tonBookClick(snippet);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<li className=\"snippets__list-item\" onClick={handleClick}>\r\n\t\t\t<img\r\n\t\t\t\tclassName=\"snippets__image\"\r\n\t\t\t\tsrc={\r\n\t\t\t\t\tsnippet.cover_i ? (\r\n\t\t\t\t\t\t`https://covers.openlibrary.org/b/id/${snippet.cover_i}-M.jpg`\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t`https://missefficiency.nl/contents/media/l_naslagwerk_20171107144603.jpg`\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\talt={snippet.name}\r\n\t\t\t/>\r\n\t\t\t<div className=\"snippets__container\">\r\n\t\t\t\t<h2 className=\"snippets__snippet-title\">{snippet.title}</h2>\r\n\r\n\t\t\t\t<p className=\"snippets__author\">{snippet.author_name}</p>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default Snippet;\r\n","import React, { FormEvent} from 'react';\r\nimport './Main.css';\r\nimport { useState, useEffect } from 'react';\r\nimport Snippet from '../Snippet/Snippet';\r\nimport IBook from '../../interfaces/IBook';\r\n\r\ninterface MainProps { \r\n\tonSnippetClick(el: IBook): void, \r\n\tsnippets: IBook[], \r\n\tonSearch(el:string): void; \r\n\tisRender: boolean;\r\n\tisSuccessImage: boolean; \r\n}\r\n\r\n\r\nconst Main: React.FC<MainProps>= ({ onSnippetClick, snippets, onSearch, isRender, isSuccessImage }) =>{\r\n\tconst [ request, setRequest ] = useState<string>('');\r\n\r\n\tconst [ timer, setTimer ] = useState<any>();\r\n\r\n\tconst [ visibleSnippets, setVisibleSnippets ] = useState<number>(9);\r\n\r\n\tfunction showMoreSnippets() {\r\n\t\tsetVisibleSnippets(visibleSnippets + 4);\r\n\t}\r\n\r\n\tfunction handleSubmit(e: FormEvent) {\r\n\t\te.preventDefault();\r\n\t\tonSearch(request.replace(/ /g, '+'));\r\n\t\tsetRequest('');\r\n\t}\r\n\r\n\tfunction handleRequestChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n\t\tsetRequest((prev) => e.target.value);\r\n\r\n\t\tclearTimeout(timer);\r\n\t\tsetTimer(\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tconsole.log('ищет', request);\r\n\t\t\t\tonSearch(request.replace(/ /g, '+'));\r\n\t\t\t}, 1000)\r\n\t\t);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (request === '') clearTimeout(timer);\r\n\t\t},\r\n\t\t[ request, timer ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<main className=\"main\">\r\n\t\t\t<section className=\"search\">\r\n\t\t\t\t<form className=\"search__form\" onSubmit={handleSubmit} noValidate>\r\n\t\t\t\t\t<label className=\"search__form-field\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"search__input\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"search-input\"\r\n\t\t\t\t\t\t\tplaceholder=\"Начните вводить название книги\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={request}\r\n\t\t\t\t\t\t\tonChange={handleRequestChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"search__submit\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tdisabled={request !== '' ? false : true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tПоиск\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section className=\"snippets\">\r\n\t\t\t\t<h2 className=\"snippets__title\">\r\n\t\t\t\t\t{isRender ? 'Идет поиск...' : 'Результаты поиска:'}\r\n\t\t\t\t</h2>\r\n\t\t\t\t{!isSuccessImage && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"snippets__success-image\"\r\n\t\t\t\t\t\tsrc={'https://giklive.com/wp-content/uploads/2017/09/travolta-confused.gif'}\r\n\t\t\t\t\t\talt=\"книга не найдена\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<ul className=\"snippets__list\">\r\n\t\t\t\t\t{snippets.map((item, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\ti <= visibleSnippets && (\r\n\t\t\t\t\t\t\t\t<Snippet\r\n\t\t\t\t\t\t\t\t\tsnippet={item}\r\n\t\t\t\t\t\t\t\t\tkey={item.key}\r\n\t\t\t\t\t\t\t\t\tonBookClick={onSnippetClick}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t\t{snippets.length > visibleSnippets && (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"snippets__help-button\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={showMoreSnippets}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tПоказать еще...\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t\t{window.pageYOffset > 600 && (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"snippets__help-button\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tВернуться\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport './BookPopup.css';\r\nimport { useEffect } from 'react';\r\nimport IBook from '../../interfaces/IBook'\r\n\r\ninterface BookPopupProps {\r\n\tbook: IBook;\r\n\tisOpen: boolean;\r\n\tonClose(): void;\r\n\tonEscClose(event: React.MouseEvent): void;\r\n}\r\n\r\nconst BookPopup: React.FC<BookPopupProps>= ({ book, isOpen, onClose, onEscClose })=> {\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!isOpen) return;\r\n\t\t\tconst handleEscapeClose = (event: KeyboardEvent):void => {\r\n\t\t\t\tif (event.key === 'Escape') {\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tdocument.addEventListener('keydown', handleEscapeClose);\r\n\t\t\treturn () => {\r\n\t\t\t\tdocument.removeEventListener('keydown', handleEscapeClose);\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ isOpen, onClose ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={`popup popup_type_book  ${isOpen && 'popup_opened'}`} onClick={onEscClose}>\r\n\t\t\t<div className=\"popup__content\">\r\n\t\t\t\t<button type=\"button\" className=\"popup__close\" onClick={onClose} />\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName=\"popup__image\"\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\tbook.cover_i ? (\r\n\t\t\t\t\t\t\t`https://covers.openlibrary.org/b/id/${book.cover_i}-L.jpg`\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t`https://missefficiency.nl/contents/media/l_naslagwerk_20171107144603.jpg`\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\talt={book.title}\r\n\t\t\t\t/>\r\n\t\t\t\t<h2 className=\"popup__book-title\">Название: {book.title}</h2>\r\n\t\t\t\t<h3 className=\"popup__book-author\">Автор: {book.author_name}</h3>\r\n\t\t\t\t<p className=\"popup__book-publish\">Год публикации: {book.publish_year}</p>\r\n\t\t\t\t<p className=\"popup__book-publisher\">Издатель: {book.publisher}</p>\r\n\t\t\t\t<p className=\"popup__book-isbn\">ISBN книги: {book.isbn}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default BookPopup;\r\n","import React from 'react';\r\nimport './Footer.css';\r\n\r\nconst Footer: React.FC= () =>{\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__copyright\">© {new Date().getFullYear()} Aleksey Logvenkin</p>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\nimport api from '../utils/api';\r\n\r\nimport './App.css';\r\nimport Header from './Header/Header';\r\nimport Main from './Main/Main';\r\nimport BookPopup from './BookPopup/BookPopup';\r\nimport Footer from './Footer/Footer';\r\n\r\nimport IBook from '../interfaces/IBook'\r\n\r\nconst noBook = {\r\n\tname: '',\r\n\tcover_i: '',\r\n\ttitle: '',\r\n\tauthor_name: '',\r\n\tpublish_year: 0,\r\n\tpublisher: '',\r\n\tisbn: '',\r\n\tkey: ''\r\n}\r\n\r\nconst App: React.FC = () => {\r\n\tconst [ snippets, setSnippets ] = useState<IBook[]>([]);\r\n\tconst [ isBookOpened, setIsBookOpened ] = useState<boolean>(false);\r\n\tconst [ selectedBook, setSelectedBook ] = useState<IBook>(noBook);\r\n\tconst [ isRender, setIsRender ] = useState<boolean>(false);\r\n\tconst [ isSuccessImage, setIsSuccessImage ] = useState<boolean>(true);\r\n\r\n\tfunction handleBookClick(choosenBook: IBook) {\r\n\t\tsetSelectedBook(choosenBook);\r\n\t\tsetIsBookOpened(true);\r\n\t}\r\n\r\n\tfunction closeBookPopup() {\r\n\t\tsetIsBookOpened(false);\r\n\t\tsetSelectedBook(noBook);\r\n\t}\r\n\r\n\tfunction handleClick(e: React.BaseSyntheticEvent) {\r\n\t\tif (e.target.classList.contains('popup')) {\r\n\t\t\tcloseBookPopup();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function handleSearchSubmit(request: string) {\r\n\t\tif (request !== '') {\r\n\t\t\tsetIsRender(true);\r\n\t\t\tlet res = await api.getSnippets(request);\r\n\r\n\t\t\tconsole.log(res.numFound, 'найдено');\r\n\t\t\tsetIsSuccessImage(res.numFound > 0 ? true : false);\r\n\r\n\t\t\tsetSnippets(res.docs);\r\n\t\t\tsetIsRender(false);\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"root\">\r\n\t\t\t<div className=\"page\">\r\n\t\t\t\t<Header />\r\n\t\t\t\t<Main\r\n\t\t\t\t\tsnippets={snippets}\r\n\t\t\t\t\tonSnippetClick={handleBookClick}\r\n\t\t\t\t\tonSearch={handleSearchSubmit}\r\n\t\t\t\t\tisRender={isRender}\r\n\t\t\t\t\tisSuccessImage={isSuccessImage}\r\n\t\t\t\t/>\r\n\t\t\t\t<Footer />\r\n\t\t\t\t<BookPopup\r\n\t\t\t\t\tbook={selectedBook}\r\n\t\t\t\t\tisOpen={isBookOpened}\r\n\t\t\t\t\tonClose={closeBookPopup}\r\n\t\t\t\t\tonEscClose={handleClick}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}